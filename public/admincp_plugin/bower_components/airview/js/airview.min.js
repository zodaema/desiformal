/* http://deviprsd21.github.io/Airview/ */
+function(e){"use strict";function n(n){return this.each(function(){var r=e(this);var i=r.data("bs.airview");var s=typeof n=="object"&&n;if(!i&&n=="destroy")return;if(!i)r.data("bs.airview",i=new t(this,s));if(typeof n=="string")i[n]()})}var t=function(e,t){this.init("airview",e,t)};if(!e.fn.tooltip)throw new Error("Airview requires tooltip.js");t.VERSION="1.0.0";t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"auto",trigger:"hover focus",url:false,content:"",width:"auto",error:"Image Not Found",template:'<div class="airview" role="tooltip"><div class="airview-arrow"></div><div class="airview-inner"><div class="airview-loader">'+"</div><img /></div></div>"});t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var e=this.$element;var t=this.tip();var n=this.getTitle();var r=n.substr(n.lastIndexOf("/")+1);var i=this.getContent();var s={width:this.options.width=="auto"?500:this.options.width,height:this.options.width=="auto"?this.getHeight(500):this.getHeight(this.options.width)};if(!n&&!i){n=this.options.content?this.options.url?this.options.url+this.options.content:this.options.content:""}else{if(n)n=this.options.url?this.options.url+n:n;else n=i?this.options.url?this.options.url+i:i:n}t.find(".airview-inner > img").on("load",function(){t.find(".airview-loader").fadeOut()});this.options.html?t.find(".airview-inner")["html"](n):t.find(".airview-inner > img")["attr"]({src:n,alt:r});t.find(".airview-inner > img")["attr"](s);t.removeClass("fade top bottom left right in");if(!n||e.attr("data-lost"))t.find(".airview-inner").empty().addClass("error").html("<span>"+this.options.error+"</span>");else if(n&&isNaN(s.height)&&e.attr("data-broken"))t.find(".airview-inner").empty().addClass("error").html("<span>Broken Link</span>")};t.prototype.getHeight=function(e){var t=this.$element;return e/t.attr("data-aratio")};t.prototype.fixTitle=function(){var t=this.$element;var n=false;var r=false;var i=new Image;var s=this;var o="";var u="";if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").attr("title","")}o=this.getTitle();u=this.getContent();if(!o&&!u){o=this.options.content?this.options.url?this.options.url+this.options.content:this.options.content:""}else{if(o)o=this.options.url?this.options.url+o:o;else o=u?this.options.url?this.options.url+u:u:o}e(i).error(function(e){if(o)t.attr("data-broken",true);else t.attr("data-lost",true);n=true});i.src=o;r=setInterval(function(){if(i.width!=0&&i.height!=0||n){t.attr("data-aratio",i.width/i.height);i.removeAttribute("src");i=null;clearInterval(r)}},0)};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()||" "};t.prototype.getContent=function(){var e=this.$element;var t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".airview-arrow")};t.prototype.tip=function(){if(!this.$tip)this.$tip=e(this.options.template);return this.$tip};var r=e.fn.popover;e.fn.airview=n;e.fn.airview.Constructor=t;e.fn.airview.noConflict=function(){e.fn.airview=r;return this}}(jQuery)
